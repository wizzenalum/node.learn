console.log("chat engine this is working");class ChatEngine{constructor(o,s){this.chatBox=$(`#${o}`),this.userEmail=s,this.socket=io.connect("http://localhost:5000/"),this.userEmail&&this.connectionHandler()}connectionHandler(){let o=this;this.socket.on("connect",(function(){console.log("connection established using sockets...! "),o.socket.emit("join_room",{user_email:o.userEmail,chatroom:"wixy"}),o.socket.on("user_joined",(function(o){console.log("a user joined",o)})),$("button",o.chatBox).click((()=>{const s=$("input",o.chatBox);let e=s.val();console.log("box clicked",e),s.val(""),e&&(o.socket.emit("wixy",{user_email:o.userEmail,msg:e}),$("#msg-container",o.chatBox).append(`<p class="fromUserMsg msg">${e}</p>`))})),o.socket.on("wixy",(function(s){console.log("message recieved to user",s),o.userEmail!=s.user_email&&$("#msg-container",o.chatBox).append(`<p class="toUserMsg msg">${s.msg}</p>`)}))}))}}