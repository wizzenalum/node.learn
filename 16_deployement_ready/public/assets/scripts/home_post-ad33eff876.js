{let t=function(){console.log("this is create post function");let t=$("#new-post-form");t.submit((function(n){n.preventDefault(),console.log("initiated"),$.ajax({type:"post",url:"/post/create-post",data:t.serialize(),success:function(n){console.log("something",n);let s=e(n.data);$("#posts").prepend(s),notySuccess(!0,"succcess: post created "),po=n.data,$(`#post-${n.data.post._id}`).on("click",(function(t){o(t)})),t[0].reset(),rerankPosts()},error:function(t){console.log("error",t.resposntText)}})}))},e=function(t){let e=new Date(Date.parse(t.post.createdAt));return $(`<div id = "post-${t.post._id}" class="post">\n        <dt><h4>post <span class="count-post">1</span>\n            <a class="delete-post-button" href="/post/destroy/${t.post._id}">X</a>\n        </h4></dt>\n        <dd>\n            <small>${t.user.name+" "+e.toDateString()}</small><br>\n            <b>${t.post.content}</b>\n\n            <dl><form action="/comment-create" method="post">\n            <input type="text" name="content" placeholder="comment" required> <input type="hidden" name="post" value="${t.post._id}"><button type="submit">comment</button></form></dl>\n        </dd>\n    </div>`)},o=function(t){t.preventDefault(),console.log("clicked is ",t),po=t,$.ajax({type:"get",url:$(t.target).prop("href"),success:function(t){console.log(t),$(`#post-${t.data.post_id}`).remove(),notySuccess(!1,"succcess: post deleted "),rerankPosts()},error:function(t){console.log(t.resposntText)}})};function rerankPosts(){$.each($(".count-post"),((t,e)=>{$(e).html(t+1)}))}$(".delete-post-button").on("click",(function(t){o(t)})),t()}